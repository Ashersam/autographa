{"ast":null,"code":"var _jsxFileName = \"/home/asherphilip/Documents/autographa/renderer/src/components/ProjectsPage/Profile/Profile.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect } from 'react';\nimport { Paper, Typography, IconButton, Grid, TextField, Box, OutlinedInput, FormControl, InputLabel, InputAdornment, Select, MenuItem, Input, Button } from '@material-ui/core';\nimport clsx from 'clsx';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport Avatar from '@material-ui/core/Avatar';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport { FormattedMessage } from 'react-intl';\nimport * as localForage from 'localforage';\nimport { usePrefs } from 'prefs-rcl';\nimport AutographaStore from '../../AutographaStore';\nimport * as logger from '../../../logger';\nimport { ProfileStyles } from '../useStyles/ProfileStyles';\nimport useValidator from '../../Validation/useValidator';\nimport { AutoCompleteSearch } from '../../AutoCompleteSearch/AutoCompleteSearch';\nconst localForageConfig = {\n  type: 'localForage',\n  name: 'profile1',\n  maxSize: '5MB'\n};\nconst region = [{\n  id: 1,\n  place: 'Delhi, India'\n}, {\n  id: 2,\n  place: 'Helsinki, Finland'\n}, {\n  id: 3,\n  place: 'New York, United States'\n}, {\n  id: 4,\n  place: 'Morocco, North Africa'\n}];\n\nconst Profile = () => {\n  const classes = ProfileStyles();\n  const [values, setValues] = React.useState({\n    password: '',\n    showPassword: false\n  });\n  const [appLang, setAppLang] = React.useState(AutographaStore.appLang);\n  const [avatarPathImport, setavatarPathImport] = React.useState('');\n  const [firstname, setFirstname] = React.useState('');\n  const [lastname, setLastname] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [selregion, setRegion] = React.useState('');\n  const [saved, setSaved] = React.useState('');\n  const {\n    state: {\n      formValid,\n      errorCount,\n      errors\n    },\n    action: {\n      handleFields,\n      handleSubmitFields\n    }\n  } = useValidator();\n  const {\n    action: {\n      // readItem,\n      setItem // deleteItem,\n      // custom,\n\n    }\n  } = usePrefs({\n    backendfn: localForageConfig\n  });\n\n  const handleChange = prop => event => {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      [prop]: event.target.value\n    }));\n    handleFields(event);\n  };\n\n  const handleClickShowPassword = () => {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      showPassword: !values.showPassword\n    }));\n  };\n\n  const handleMouseDownPassword = event => {\n    event.preventDefault();\n  };\n\n  const changeLangauge = event => {\n    setAppLang(event.target.value);\n  };\n\n  const openFileDialogAvatarData = async ({\n    target\n  }) => {\n    logger.debug('Profile.js', 'dialog opens to update avatar');\n\n    if (target.files[0] !== undefined) {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(target.files[0]);\n\n      fileReader.onload = async e => {\n        localForage.setItem('avatarPath', e.target.result, err => {\n          localForage.getItem('avatarPath', value => {\n            setavatarPathImport(value);\n            AutographaStore.avatarPath = value;\n            logger.debug('Profile.js', 'updated avatar');\n\n            if (err) {\n              logger.error('Profile.js', 'failed to update avatar');\n            }\n          });\n        });\n      };\n    }\n  };\n\n  const removeAvatar = () => {\n    logger.debug('Profile.js', 'event to remove avatar');\n    localForage.setItem('avatarPath', '', err => {\n      localForage.getItem('avatarPath', value => {\n        setavatarPathImport(value);\n        AutographaStore.avatarPath = value;\n\n        if (err) {\n          logger.error('Profile.js', 'error while removing avatar');\n        }\n      });\n\n      if (err) {\n        logger.error('Profile.js', 'error while removing avatar');\n      }\n    });\n  };\n\n  useEffect(() => {\n    localForage.getItem('avatarPath', (err, value) => {\n      setavatarPathImport(value);\n      AutographaStore.avatarPath = value;\n\n      if (err) {\n        logger.error('Profile.js', 'error in setting avatar on mount');\n      }\n    });\n  }, []);\n  useEffect(() => {\n    localForage.getItem('profileSettings', async (err, value) => {\n      if (value) {\n        value.forEach(fields => {\n          setFirstname(fields.firstname);\n          setLastname(fields.lastname);\n          setEmail(fields.email);\n          setRegion(fields.region);\n          setValues(_objectSpread(_objectSpread({}, values), {}, {\n            password: fields.password\n          }));\n          logger.debug('Profile.js', 'setting the saved profile values');\n        });\n      }\n\n      if (err) {\n        logger.error('Profile.js', 'error in getting saved values');\n      }\n    }); // eslint-disable-next-line\n  }, []);\n\n  const handleSubmit = e => {\n    handleSubmitFields(e);\n    const profileSettings = [{\n      password: values.password,\n      firstname,\n      lastname,\n      region: selregion,\n      email,\n      appLang\n    }];\n\n    if (!saved) {\n      setSaved(profileSettings);\n    }\n\n    if (errorCount !== null && formValid) {\n      setItem({\n        key: 'profileSettings',\n        values: profileSettings,\n        tag: 'projectspage'\n      }); // localForage.setItem('profileSettings', profileSettings, () => {\n      //   localForage.getItem('profileSettings', (err, value) => {\n      //     setSaved(value);\n      //     logger.debug('Profile.js', 'Profile fields saved successfully');\n      //     if (err) {\n      //       logger.error('Profile.js', 'Failed in saving field values');\n      //     }\n      //   });\n      // });\n\n      localForage.getItem('applang', err => {\n        localForage.setItem('applang', appLang, () => {\n          if (err) {\n            logger.error('Profile.js', 'Failed to change language');\n          }\n\n          logger.debug('Profile.js', 'Language changed app reloads');\n          window.location.reload();\n        });\n      });\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Paper, {\n    \"data-test\": \"component-profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 11\n    }\n  }), __jsx(Grid, {\n    item: true,\n    xs: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }, __jsx(Avatar, {\n    src: avatarPathImport,\n    alt: \"Remy Sharp\",\n    className: classes.avatarlarge,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: classes.avataredits,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }\n  }, __jsx(IconButton, {\n    variant: \"contained\",\n    component: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  }, __jsx(EditIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 17\n    }\n  }), __jsx(Input, {\n    type: \"file\",\n    accept: \"image/*\",\n    style: {\n      display: 'none'\n    },\n    onChange: openFileDialogAvatarData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 17\n    }\n  })), __jsx(IconButton, {\n    \"aria-label\": \"delete\",\n    onClick: removeAvatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 15\n    }\n  }, __jsx(DeleteForeverIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  })))), __jsx(Grid, {\n    item: true,\n    xs: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 11\n    }\n  }, __jsx(\"form\", {\n    className: classes.personalinfo,\n    noValidate: true,\n    autoComplete: \"off\",\n    onSubmit: e => handleSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 13\n    }\n  }, __jsx(Typography, {\n    className: classes.title,\n    variant: \"h6\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 15\n    }\n  }, __jsx(Box, {\n    fontWeight: 600,\n    m: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 17\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"label-personal-information\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 19\n    }\n  }))), __jsx(FormattedMessage, {\n    id: \"label-first-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 15\n    }\n  }, message => __jsx(TextField // error={errors.namefield === \"\" ? false : true}\n  , {\n    className: classes.textfieldsmall,\n    label: message,\n    name: \"namefield\",\n    variant: \"outlined\",\n    type: \"text\",\n    inputProps: {\n      'data-testid': 'firstnamefield'\n    },\n    value: firstname,\n    helperText: errors.namefield,\n    onChange: e => {\n      setFirstname(e.target.value);\n      handleFields(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 19\n    }\n  })), __jsx(FormattedMessage, {\n    id: \"label-last-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 15\n    }\n  }, message => __jsx(TextField, {\n    className: classes.textfieldsmall,\n    label: message,\n    name: \"lastname\",\n    variant: \"outlined\",\n    inputProps: {\n      'data-testid': 'lastnamefield'\n    },\n    value: lastname,\n    helperText: errors.lastname,\n    onChange: e => {\n      setLastname(e.target.value);\n      handleFields(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 19\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 15\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"label-email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 17\n    }\n  }, message => __jsx(TextField, {\n    className: classes.textfieldlong,\n    label: message,\n    name: \"email\",\n    variant: \"outlined\",\n    inputProps: {\n      'data-testid': 'emailfield'\n    },\n    value: email,\n    helperText: errors.email,\n    onChange: e => {\n      setEmail(e.target.value);\n      handleFields(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 21\n    }\n  }))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 15\n    }\n  }, __jsx(FormControl, {\n    variant: \"outlined\",\n    className: classes.textfieldlong,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 17\n    }\n  }, __jsx(AutoCompleteSearch, {\n    id: \"Region\",\n    listarray: region,\n    customPlaceholder: \"Region\",\n    selectedValue: selregion,\n    setSelectedValue: setRegion,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 19\n    }\n  }))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 15\n    }\n  }, __jsx(FormControl, {\n    className: (clsx(classes.margin, classes.textField), classes.textfieldlong),\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 17\n    }\n  }, __jsx(InputLabel, {\n    htmlFor: \"outlined-adornment-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 19\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"label-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 21\n    }\n  })), __jsx(OutlinedInput, {\n    id: \"outlined-adornment-password\",\n    type: values.showPassword ? 'text' : 'password',\n    value: values.password,\n    name: \"password\",\n    onChange: handleChange('password'),\n    inputProps: {\n      'data-testid': 'passwordbox'\n    },\n    endAdornment: __jsx(InputAdornment, {\n      position: \"end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 23\n      }\n    }, __jsx(IconButton, {\n      \"aria-label\": \"toggle password visibility\",\n      onClick: handleClickShowPassword,\n      onMouseDown: handleMouseDownPassword,\n      edge: \"end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 25\n      }\n    }, values.showPassword ? __jsx(Visibility, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 29\n      }\n    }) : __jsx(VisibilityOff, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 29\n      }\n    }))),\n    labelWidth: 70,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 19\n    }\n  }), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 19\n    }\n  }, errors.password))), __jsx(Typography, {\n    className: classes.title,\n    variant: \"h6\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 15\n    }\n  }, __jsx(Box, {\n    fontWeight: 600,\n    m: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 17\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"label-language\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 19\n    }\n  }))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 15\n    }\n  }, __jsx(FormControl, {\n    variant: \"outlined\",\n    className: classes.textfieldlong,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 17\n    }\n  }, __jsx(Select, {\n    className: classes.formControl,\n    id: \"localeList\",\n    value: appLang,\n    onChange: changeLangauge,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 19\n    }\n  }, __jsx(MenuItem, {\n    value: \"en\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 21\n    }\n  }, \"English\"), __jsx(MenuItem, {\n    value: \"hi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 21\n    }\n  }, \"Hindi\")))), __jsx(Button, {\n    className: classes.save,\n    variant: \"contained\",\n    color: \"primary\",\n    \"data-testid\": \"submit-button\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 15\n    }\n  }, \"Save\"))))));\n};\n\nexport default Profile;","map":{"version":3,"sources":["/home/asherphilip/Documents/autographa/renderer/src/components/ProjectsPage/Profile/Profile.js"],"names":["React","useEffect","Paper","Typography","IconButton","Grid","TextField","Box","OutlinedInput","FormControl","InputLabel","InputAdornment","Select","MenuItem","Input","Button","clsx","Visibility","VisibilityOff","Avatar","EditIcon","DeleteForeverIcon","FormattedMessage","localForage","usePrefs","AutographaStore","logger","ProfileStyles","useValidator","AutoCompleteSearch","localForageConfig","type","name","maxSize","region","id","place","Profile","classes","values","setValues","useState","password","showPassword","appLang","setAppLang","avatarPathImport","setavatarPathImport","firstname","setFirstname","lastname","setLastname","email","setEmail","selregion","setRegion","saved","setSaved","state","formValid","errorCount","errors","action","handleFields","handleSubmitFields","setItem","backendfn","handleChange","prop","event","target","value","handleClickShowPassword","handleMouseDownPassword","preventDefault","changeLangauge","openFileDialogAvatarData","debug","files","undefined","fileReader","FileReader","readAsDataURL","onload","e","result","err","getItem","avatarPath","error","removeAvatar","forEach","fields","handleSubmit","profileSettings","key","tag","window","location","reload","avatarlarge","avataredits","display","personalinfo","title","message","textfieldsmall","namefield","textfieldlong","margin","textField","formControl","save"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport {\n  Paper,\n  Typography,\n  IconButton,\n  Grid,\n  TextField,\n  Box,\n  OutlinedInput,\n  FormControl,\n  InputLabel,\n  InputAdornment,\n  Select,\n  MenuItem,\n  Input,\n  Button,\n} from '@material-ui/core';\nimport clsx from 'clsx';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport Avatar from '@material-ui/core/Avatar';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport { FormattedMessage } from 'react-intl';\nimport * as localForage from 'localforage';\nimport { usePrefs } from 'prefs-rcl';\nimport AutographaStore from '../../AutographaStore';\nimport * as logger from '../../../logger';\nimport { ProfileStyles } from '../useStyles/ProfileStyles';\nimport useValidator from '../../Validation/useValidator';\nimport { AutoCompleteSearch } from '../../AutoCompleteSearch/AutoCompleteSearch';\n\nconst localForageConfig = {\n  type: 'localForage',\n  name: 'profile1',\n  maxSize: '5MB',\n};\nconst region = [\n  { id: 1, place: 'Delhi, India' },\n  { id: 2, place: 'Helsinki, Finland' },\n  { id: 3, place: 'New York, United States' },\n  { id: 4, place: 'Morocco, North Africa' },\n];\n\nconst Profile = () => {\n  const classes = ProfileStyles();\n  const [values, setValues] = React.useState({\n    password: '',\n    showPassword: false,\n  });\n  const [appLang, setAppLang] = React.useState(AutographaStore.appLang);\n  const [avatarPathImport, setavatarPathImport] = React.useState('');\n  const [firstname, setFirstname] = React.useState('');\n  const [lastname, setLastname] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [selregion, setRegion] = React.useState('');\n  const [saved, setSaved] = React.useState('');\n  const {\n    state: {\n      formValid,\n      errorCount,\n      errors,\n    },\n    action: {\n      handleFields,\n      handleSubmitFields,\n    },\n\n  } = useValidator();\n\n  const {\n    action: {\n      // readItem,\n      setItem,\n      // deleteItem,\n      // custom,\n    },\n  } = usePrefs({\n    backendfn: localForageConfig,\n  });\n\n  const handleChange = (prop) => (event) => {\n    setValues({ ...values, [prop]: event.target.value });\n    handleFields(event);\n  };\n\n  const handleClickShowPassword = () => {\n    setValues({ ...values, showPassword: !values.showPassword });\n  };\n\n  const handleMouseDownPassword = (event) => {\n    event.preventDefault();\n  };\n\n  const changeLangauge = (event) => {\n    setAppLang(event.target.value);\n  };\n\n  const openFileDialogAvatarData = async ({ target }) => {\n    logger.debug('Profile.js', 'dialog opens to update avatar');\n    if (target.files[0] !== undefined) {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(target.files[0]);\n      fileReader.onload = async (e) => {\n        localForage.setItem('avatarPath', e.target.result, (err) => {\n          localForage.getItem('avatarPath', (value) => {\n            setavatarPathImport(value);\n            AutographaStore.avatarPath = value;\n            logger.debug('Profile.js', 'updated avatar');\n            if (err) {\n              logger.error('Profile.js', 'failed to update avatar');\n            }\n          });\n        });\n      };\n    }\n  };\n\n  const removeAvatar = () => {\n    logger.debug('Profile.js', 'event to remove avatar');\n    localForage.setItem('avatarPath', '', (err) => {\n      localForage.getItem('avatarPath', (value) => {\n        setavatarPathImport(value);\n        AutographaStore.avatarPath = value;\n        if (err) {\n          logger.error('Profile.js', 'error while removing avatar');\n        }\n      });\n      if (err) {\n        logger.error('Profile.js', 'error while removing avatar');\n      }\n    });\n  };\n\n  useEffect(() => {\n    localForage.getItem('avatarPath', (err, value) => {\n      setavatarPathImport(value);\n      AutographaStore.avatarPath = value;\n      if (err) {\n        logger.error('Profile.js', 'error in setting avatar on mount');\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    localForage.getItem('profileSettings', async (err, value) => {\n      if (value) {\n        value.forEach((fields) => {\n          setFirstname(fields.firstname);\n          setLastname(fields.lastname);\n          setEmail(fields.email);\n          setRegion(fields.region);\n          setValues({ ...values, password: fields.password });\n          logger.debug('Profile.js', 'setting the saved profile values');\n        });\n      }\n      if (err) {\n        logger.error('Profile.js', 'error in getting saved values');\n      }\n    });\n    // eslint-disable-next-line\n  },[])\n\n  const handleSubmit = (e) => {\n    handleSubmitFields(e);\n    const profileSettings = [\n      {\n        password: values.password,\n        firstname,\n        lastname,\n        region: selregion,\n        email,\n        appLang,\n      },\n    ];\n    if (!saved) { setSaved(profileSettings); }\n    if (errorCount !== null && formValid) {\n      setItem({\n        key: 'profileSettings',\n        values: profileSettings,\n        tag: 'projectspage',\n      });\n      // localForage.setItem('profileSettings', profileSettings, () => {\n      //   localForage.getItem('profileSettings', (err, value) => {\n      //     setSaved(value);\n      //     logger.debug('Profile.js', 'Profile fields saved successfully');\n      //     if (err) {\n      //       logger.error('Profile.js', 'Failed in saving field values');\n      //     }\n      //   });\n      // });\n      localForage.getItem('applang', (err) => {\n        localForage.setItem('applang', appLang, () => {\n          if (err) {\n            logger.error('Profile.js', 'Failed to change language');\n          }\n          logger.debug('Profile.js', 'Language changed app reloads');\n          window.location.reload();\n        });\n      });\n    }\n  };\n\n  return (\n    <>\n      <Paper data-test=\"component-profile\">\n        <Grid container spacing={3}>\n          <Grid item xs={2} />\n          <Grid item xs>\n            <Avatar\n              src={avatarPathImport}\n              alt=\"Remy Sharp\"\n              className={classes.avatarlarge}\n            />\n            <div className={classes.avataredits}>\n              <IconButton variant=\"contained\" component=\"label\">\n                <EditIcon />\n                <Input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  style={{ display: 'none' }}\n                  onChange={openFileDialogAvatarData}\n                />\n              </IconButton>\n              <IconButton aria-label=\"delete\" onClick={removeAvatar}>\n                <DeleteForeverIcon />\n              </IconButton>\n            </div>\n          </Grid>\n          <Grid item xs={7}>\n            <form\n              className={classes.personalinfo}\n              noValidate\n              autoComplete=\"off\"\n              onSubmit={(e) => handleSubmit(e)}\n            >\n              <Typography\n                className={classes.title}\n                variant=\"h6\"\n                color=\"inherit\"\n              >\n                <Box fontWeight={600} m={1}>\n                  <FormattedMessage id=\"label-personal-information\" />\n                </Box>\n              </Typography>\n              <FormattedMessage id=\"label-first-name\">\n                {(message) => (\n                  <TextField\n                    // error={errors.namefield === \"\" ? false : true}\n                    className={classes.textfieldsmall}\n                    label={message}\n                    name=\"namefield\"\n                    variant=\"outlined\"\n                    type=\"text\"\n                    inputProps={{\n                      'data-testid': 'firstnamefield',\n                    }}\n                    value={firstname}\n                    helperText={errors.namefield}\n                    onChange={(e) => {\n                      setFirstname(e.target.value);\n                      handleFields(e);\n                    }}\n                  />\n                )}\n              </FormattedMessage>\n              <FormattedMessage id=\"label-last-name\">\n                {(message) => (\n                  <TextField\n                    className={classes.textfieldsmall}\n                    label={message}\n                    name=\"lastname\"\n                    variant=\"outlined\"\n                    inputProps={{\n                      'data-testid': 'lastnamefield',\n                    }}\n                    value={lastname}\n                    helperText={errors.lastname}\n                    onChange={(e) => {\n                      setLastname(e.target.value);\n                      handleFields(e);\n                    }}\n                  />\n                )}\n              </FormattedMessage>\n              <div>\n                <FormattedMessage id=\"label-email\">\n                  {(message) => (\n                    <TextField\n                      className={classes.textfieldlong}\n                      label={message}\n                      name=\"email\"\n                      variant=\"outlined\"\n                      inputProps={{\n                        'data-testid': 'emailfield',\n                      }}\n                      value={email}\n                      helperText={errors.email}\n                      onChange={(e) => {\n                        setEmail(e.target.value);\n                        handleFields(e);\n                      }}\n                    />\n                  )}\n                </FormattedMessage>\n              </div>\n              <div>\n                <FormControl\n                  variant=\"outlined\"\n                  className={classes.textfieldlong}\n                >\n                  <AutoCompleteSearch\n                    id=\"Region\"\n                    listarray={region}\n                    customPlaceholder=\"Region\"\n                    selectedValue={selregion}\n                    setSelectedValue={setRegion}\n                  />\n                </FormControl>\n              </div>\n              <div>\n                <FormControl\n                  className={\n                    (clsx(classes.margin, classes.textField),\n                    classes.textfieldlong)\n                  }\n                  variant=\"outlined\"\n                >\n                  <InputLabel htmlFor=\"outlined-adornment-password\">\n                    <FormattedMessage id=\"label-password\" />\n                  </InputLabel>\n                  <OutlinedInput\n                    id=\"outlined-adornment-password\"\n                    type={values.showPassword ? 'text' : 'password'}\n                    value={values.password}\n                    name=\"password\"\n                    onChange={handleChange('password')}\n                    inputProps={{\n                      'data-testid': 'passwordbox',\n                    }}\n                    endAdornment={(\n                      <InputAdornment position=\"end\">\n                        <IconButton\n                          aria-label=\"toggle password visibility\"\n                          onClick={handleClickShowPassword}\n                          onMouseDown={handleMouseDownPassword}\n                          edge=\"end\"\n                        >\n                          {values.showPassword ? (\n                            <Visibility />\n                          ) : (\n                            <VisibilityOff />\n                          )}\n                        </IconButton>\n                      </InputAdornment>\n                    )}\n                    labelWidth={70}\n                  />\n                  <span>{errors.password}</span>\n                </FormControl>\n              </div>\n              <Typography\n                className={classes.title}\n                variant=\"h6\"\n                color=\"inherit\"\n              >\n                <Box fontWeight={600} m={2}>\n                  <FormattedMessage id=\"label-language\" />\n                </Box>\n              </Typography>\n              <div>\n                <FormControl\n                  variant=\"outlined\"\n                  className={classes.textfieldlong}\n                >\n                  <Select\n                    className={classes.formControl}\n                    id=\"localeList\"\n                    value={appLang}\n                    onChange={changeLangauge}\n                  >\n                    <MenuItem value=\"en\">English</MenuItem>\n                    <MenuItem value=\"hi\">Hindi</MenuItem>\n                  </Select>\n                </FormControl>\n              </div>\n              <Button\n                className={classes.save}\n                variant=\"contained\"\n                color=\"primary\"\n                data-testid=\"submit-button\"\n                type=\"submit\"\n              >\n                Save\n              </Button>\n            </form>\n          </Grid>\n        </Grid>\n      </Paper>\n    </>\n  );\n};\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}
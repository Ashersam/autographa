{"ast":null,"code":"var _jsxFileName = \"/home/asherphilip/Documents/autographa/renderer/src/components/MdEditor/MDEditor.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/* eslint-disable import/no-dynamic-require */\n\n/* eslint-disable global-require */\n// @flow\nimport * as React from 'react';\nimport { BlockEditable } from 'markdown-translatable/dist/components';\nimport { Button } from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport PropTypes from 'prop-types';\nimport * as logger from '../../logger';\nimport CustomDialog from '../ApplicationBar/CustomDialog';\n\nfunction a11yProps(index) {\n  return {\n    id: `full-width-tab-${index}`,\n    'aria-controls': `full-width-tabpanel-${index}`\n  };\n}\n\nexport const MDEditor = ({\n  openMDFile,\n  setopenMDFile,\n  mdFilePath\n}) => {\n  const [onedit, setEdit] = React.useState(0);\n  const [preview, setpreview] = React.useState(true);\n  const [translation, settranslation] = React.useState();\n\n  const handleEdit = edit => {\n    setEdit(edit);\n  };\n\n  const handleClose = () => {\n    setopenMDFile(false);\n  };\n\n  const callback = markdown => {\n    logger.debug('markdownviewer.js', `set translation as ${markdown}`);\n    settranslation(markdown);\n  };\n\n  React.useEffect(() => {\n    settranslation(mdFilePath);\n  }, [mdFilePath]);\n\n  const title = __jsx(AppBar, {\n    position: \"static\",\n    color: \"default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, __jsx(Tabs, {\n    value: onedit,\n    onChange: handleEdit,\n    indicatorColor: \"primary\",\n    textColor: \"primary\",\n    \"data-testid\": \"test-tabs\",\n    \"aria-label\": \"full width tabs example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, __jsx(Tab, _extends({\n    onClick: () => setpreview(true),\n    \"data-testid\": \"test-preview\",\n    label: \"Preview\"\n  }, a11yProps(0), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  })), __jsx(Tab, _extends({\n    onClick: () => setpreview(false),\n    \"data-testid\": \"test-markdown\",\n    label: \"Markdown\"\n  }, a11yProps(1), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }))));\n\n  const content = __jsx(React.Fragment, null, onedit === 0 ? __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, __jsx(BlockEditable, {\n    markdown: translation,\n    preview: preview,\n    onEdit: callback,\n    inputFilters: [[/<br>/gi, '\\n'], [/(<u>|<\\/u>)/gi, '__']],\n    outputFilters: [[/\\n/gi, '<br>']],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  })) : __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, __jsx(BlockEditable, {\n    markdown: translation,\n    preview: preview,\n    onEdit: callback,\n    inputFilters: [[/<br>/gi, '\\n'], [/(<u>|<\\/u>)/gi, '__']],\n    outputFilters: [[/\\n/gi, '<br>']],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  })));\n\n  const button = __jsx(React.Fragment, null, __jsx(Button, {\n    autoFocus: true,\n    onClick: handleClose,\n    \"data-testid\": \"test-cancel\",\n    variant: \"contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, \"cancel\"), __jsx(Button, {\n    autoFocus: true,\n    onClick: handleClose,\n    variant: \"contained\",\n    \"data-testid\": \"test-save\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, \"save\"));\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }\n  }, __jsx(CustomDialog, {\n    open: openMDFile,\n    setOpen: setopenMDFile,\n    title: title,\n    buttons: button,\n    content: content,\n    width: \"xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }));\n};\nMDEditor.propTypes = {\n  openMDFile: PropTypes.bool.isRequired,\n  setopenMDFile: PropTypes.func,\n  mdFilePath: PropTypes.string\n};","map":{"version":3,"sources":["/home/asherphilip/Documents/autographa/renderer/src/components/MdEditor/MDEditor.js"],"names":["React","BlockEditable","Button","AppBar","Tabs","Tab","PropTypes","logger","CustomDialog","a11yProps","index","id","MDEditor","openMDFile","setopenMDFile","mdFilePath","onedit","setEdit","useState","preview","setpreview","translation","settranslation","handleEdit","edit","handleClose","callback","markdown","debug","useEffect","title","content","button","propTypes","bool","isRequired","func","string"],"mappings":"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","sourcesContent":["/* eslint-disable import/no-dynamic-require */\n/* eslint-disable global-require */\n// @flow\nimport * as React from 'react';\nimport { BlockEditable } from 'markdown-translatable/dist/components';\nimport { Button } from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport PropTypes from 'prop-types';\nimport * as logger from '../../logger';\nimport CustomDialog from '../ApplicationBar/CustomDialog';\n\nfunction a11yProps(index) {\n  return {\n    id: `full-width-tab-${index}`,\n    'aria-controls': `full-width-tabpanel-${index}`,\n  };\n}\n\nexport const MDEditor = ({\n  openMDFile,\n  setopenMDFile,\n  mdFilePath,\n}) => {\n  const [onedit, setEdit] = React.useState(0);\n  const [preview, setpreview] = React.useState(true);\n  const [translation, settranslation] = React.useState();\n\n  const handleEdit = (edit) => {\n    setEdit(edit);\n  };\n\n  const handleClose = () => {\n    setopenMDFile(false);\n  };\n\n  const callback = (markdown) => {\n    logger.debug('markdownviewer.js', `set translation as ${markdown}`);\n    settranslation(markdown);\n  };\n\n  React.useEffect(() => {\n    settranslation(mdFilePath);\n  }, [mdFilePath]);\n\n  const title = (\n    <AppBar position=\"static\" color=\"default\">\n      <Tabs\n        value={onedit}\n        onChange={handleEdit}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        data-testid=\"test-tabs\"\n        aria-label=\"full width tabs example\"\n      >\n        <Tab\n          onClick={() => setpreview(true)}\n          data-testid=\"test-preview\"\n          label=\"Preview\"\n          {...a11yProps(0)}\n        />\n        <Tab\n          onClick={() => setpreview(false)}\n          data-testid=\"test-markdown\"\n          label=\"Markdown\"\n          {...a11yProps(1)}\n        />\n      </Tabs>\n    </AppBar>\n  );\n\n  const content = (\n    <>\n      {onedit === 0 ? (\n        <div>\n          <BlockEditable\n            markdown={translation}\n            preview={preview}\n            onEdit={callback}\n            inputFilters={[\n              [/<br>/gi, '\\n'],\n              [/(<u>|<\\/u>)/gi, '__'],\n            ]}\n            outputFilters={[[/\\n/gi, '<br>']]}\n          />\n        </div>\n      ) : (\n        <div>\n          <BlockEditable\n            markdown={translation}\n            preview={preview}\n            onEdit={callback}\n            inputFilters={[\n              [/<br>/gi, '\\n'],\n              [/(<u>|<\\/u>)/gi, '__'],\n            ]}\n            outputFilters={[[/\\n/gi, '<br>']]}\n          />\n        </div>\n      )}\n    </>\n  );\n\n  const button = (\n    <>\n      <Button\n        autoFocus\n        onClick={handleClose}\n        data-testid=\"test-cancel\"\n        variant=\"contained\"\n      >\n        cancel\n      </Button>\n      <Button\n        autoFocus\n        onClick={handleClose}\n        variant=\"contained\"\n        data-testid=\"test-save\"\n        color=\"primary\"\n      >\n        save\n      </Button>\n    </>\n  );\n\n  return (\n    <div>\n      <CustomDialog\n        open={openMDFile}\n        setOpen={setopenMDFile}\n        title={title}\n        buttons={button}\n        content={content}\n        width=\"xl\"\n      />\n    </div>\n  );\n};\n\nMDEditor.propTypes = {\n  openMDFile: PropTypes.bool.isRequired,\n  setopenMDFile: PropTypes.func,\n  mdFilePath: PropTypes.string,\n};\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/asherphilip/Documents/autographa/renderer/src/components/Signup/Signup.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport PersonOutlineIcon from '@material-ui/icons/PersonOutline';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport AccountBalanceOutlinedIcon from '@material-ui/icons/AccountBalanceOutlined';\nimport LanguageOutlinedIcon from '@material-ui/icons/LanguageOutlined';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport * as logger from '../../logger';\nimport { handleJson } from '../../core/handleJson';\nimport { HashPassword } from '../../core/hashing';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: '100vh',\n    overflow: 'hidden'\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    textAlign: 'center'\n  },\n  margin: {\n    margin: theme.spacing(1)\n  }\n}));\nexport default function Signup() {\n  const classes = useStyles(); // const bgImage = [\"img1\", \"img2\", \"img3\"];\n  // const [index, setIndex] = React.useState(0);\n  // const bgImg = bgImage[index % bgImage.length];\n\n  const [jsonObj, setJsonObj] = React.useState();\n  const [result, setResult] = React.useState();\n  const [values, setValues] = React.useState({\n    firstname: '',\n    lastname: '',\n    email: '',\n    work: 'Individual',\n    organization: '',\n    selectedregion: '',\n    password: '',\n    confirmpassword: ''\n  });\n  const [valid, setValid] = React.useState({\n    validfirstname: false,\n    validlastname: false,\n    validemail: false,\n    validpassword: false,\n    validconfirmpassword: false,\n    validorganization: false,\n    validselectedregion: false\n  });\n  const [errormsg, setErrormsg] = React.useState('');\n  const region = [{\n    id: 1,\n    place: 'Delhi, India'\n  }, {\n    id: 2,\n    place: 'Helsinki, Finland'\n  }, {\n    id: 3,\n    place: 'New York, United States'\n  }, {\n    id: 4,\n    place: 'Morocco, North Africa'\n  }];\n\n  const handleFirstname = prop => event => {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      [prop]: event.target.value\n    }));\n  };\n\n  const handleLastname = prop => event => {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      [prop]: event.target.value\n    }));\n  };\n\n  const handleEmail = prop => event => {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      [prop]: event.target.value\n    }));\n  };\n\n  const handleRadio = prop => event => {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      [prop]: event.target.value\n    }));\n  };\n\n  const handleOrganization = prop => event => {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      [prop]: event.target.value\n    }));\n  };\n\n  const handlePassword = prop => event => {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      [prop]: event.target.value\n    }));\n  };\n\n  const handleValidation = () => {\n    logger.debug('Singup.js', 'Into handleValidation');\n    let validation;\n\n    if (!values.firstname) {\n      setValid(_objectSpread(_objectSpread({}, valid), {}, {\n        validfirstname: true\n      }));\n      validation = false;\n    } else if (!values.lastname) {\n      setValid(_objectSpread(_objectSpread({}, valid), {}, {\n        validlastname: true\n      }));\n      validation = false;\n    } else if (!values.email) {\n      setValid(_objectSpread(_objectSpread({}, valid), {}, {\n        validemail: true\n      }));\n      validation = false;\n    } else if (!values.organization && values.work === 'Organization') {\n      setValid(_objectSpread(_objectSpread({}, valid), {}, {\n        validorganization: true\n      }));\n      validation = false;\n    } else if (!values.selectedregion) {\n      setValid(_objectSpread(_objectSpread({}, valid), {}, {\n        validselectedregion: true\n      }));\n      validation = false;\n    } else if (!values.password) {\n      setValid(_objectSpread(_objectSpread({}, valid), {}, {\n        validpassword: true\n      }));\n      validation = false;\n    } else if (!values.confirmpassword) {\n      setValid(_objectSpread(_objectSpread({}, valid), {}, {\n        validconfirmpassword: true\n      }));\n      validation = false;\n    } else {\n      setValid(false);\n      validation = true;\n    }\n\n    logger.debug('Singup.js', 'End handleValidation');\n    return validation;\n  };\n\n  React.useEffect(() => {\n    if (result) {\n      result.then(response => {\n        if (response.userExist === true) {\n          setValid({\n            validemail: true\n          });\n          setErrormsg('User exists with same Email');\n          logger.error('Singup.js, User exist, use different Mail ID');\n        } else if (response.fetchFile === true) {\n          logger.error('Singup.js, Unable to fetch Data from file');\n        } else {\n          logger.debug('Singup.js, End handleSubmit');\n        }\n      });\n    }\n  }, [result]);\n  React.useEffect(() => {\n    if (jsonObj) {\n      const fs = window.require('fs');\n\n      setResult(handleJson(jsonObj, fs));\n    }\n  }, [jsonObj]);\n\n  const handleSubmit = () => {\n    setErrormsg();\n    logger.debug('Singup.js', 'Into handleSubmit');\n\n    if (handleValidation()) {\n      if (values.password === values.confirmpassword) {\n        const hashedPassword = HashPassword(values.password);\n        setJsonObj({\n          first_name: values.firstname,\n          last_name: values.lastname,\n          email: values.email,\n          work: values.work,\n          organization: values.organization,\n          region: values.selectedregion,\n          password: hashedPassword.password,\n          salt: hashedPassword.salt\n        });\n      } else {\n        logger.debug('Singup.js, Passwords do not match');\n        setValid(_objectSpread(_objectSpread({}, valid), {}, {\n          validconfirmpassword: true\n        }));\n        setErrormsg('Passwords do not match');\n      }\n    } else {\n      Object.keys(valid).forEach(key => {\n        if (valid[key] === true) {\n          logger.error(`Singup.js, Validation Failed for ${key}`);\n        }\n      });\n    }\n  }; // useEffect(() => {\n  //   const timer = setInterval(() => setIndex((i) => i + 1), 5000);\n  //   return () => clearInterval(timer);\n  // }, []);\n\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 5\n    }\n  }, __jsx(Grid, {\n    container: true,\n    className: classes.root,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, __jsx(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, __jsx(FormControl, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, __jsx(Typography, {\n    variant: \"h5\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }, \"Sign Up\"), __jsx(Typography, {\n    variant: \"subtitle2\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, \"Be part of a great community & have fun with us\"), __jsx(Typography, {\n    color: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  }, errormsg), __jsx(Typography, {\n    component: \"span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 15\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 19\n    }\n  }, __jsx(PersonOutlineIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    }\n  })), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 19\n    }\n  }, __jsx(TextField, {\n    className: classes.margin,\n    inputProps: {\n      'data-testid': 'firstnamefield'\n    },\n    label: \"First Name\",\n    onChange: handleFirstname('firstname'),\n    error: valid.validfirstname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 21\n    }\n  })), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 19\n    }\n  }, __jsx(TextField, {\n    className: classes.margin,\n    inputProps: {\n      'data-testid': 'lastnamefield'\n    },\n    label: \"Last Name\",\n    onChange: handleLastname('lastname'),\n    error: valid.validlastname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 21\n    }\n  })))), __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 15\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 17\n    }\n  }, __jsx(MailOutlineIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 19\n    }\n  })), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 17\n    }\n  }, __jsx(TextField, {\n    className: classes.margin,\n    inputProps: {\n      'data-testid': 'emailfield'\n    },\n    label: \"Enter Your Email\",\n    onChange: handleEmail('email'),\n    error: valid.validemail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 19\n    }\n  }))), __jsx(RadioGroup, {\n    row: true,\n    \"data-testid\": \"radioButton\",\n    style: {\n      justifyContent: 'center'\n    },\n    value: values.work,\n    onChange: handleRadio('work'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 15\n    }\n  }, __jsx(FormControlLabel, {\n    value: \"Individual\",\n    control: __jsx(Radio, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 28\n      }\n    }),\n    label: \"Individual\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 17\n    }\n  }), __jsx(FormControlLabel, {\n    value: \"Organization\",\n    control: __jsx(Radio, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 28\n      }\n    }),\n    label: \"Organization\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 17\n    }\n  })), __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 15\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 17\n    }\n  }, __jsx(AccountBalanceOutlinedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 19\n    }\n  })), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }\n  }, __jsx(TextField, {\n    className: classes.margin,\n    inputProps: {\n      'data-testid': 'orgfield'\n    },\n    label: \"Name of the Organization\",\n    error: valid.validorganization,\n    onChange: handleOrganization('organization'),\n    disabled: values.work === 'Individual',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 19\n    }\n  }))), __jsx(Typography, {\n    component: \"span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 15\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 17\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 19\n    }\n  }, __jsx(LanguageOutlinedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 21\n    }\n  })), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 19\n    }\n  }, __jsx(Autocomplete, {\n    id: \"region\",\n    options: region,\n    getOptionLabel: option => option.place,\n    getOptionSelected: (option, value) => option.place === value.place,\n    onInputChange: (event, newInputValue) => {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        selectedregion: newInputValue\n      }));\n    },\n    renderInput: params => __jsx(TextField, _extends({\n      className: classes.margin\n    }, params, {\n      error: valid.validselectedregion,\n      label: \"Select Region\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 25\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 21\n    }\n  })))), __jsx(Typography, {\n    component: \"span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 15\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 17\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 19\n    }\n  }, __jsx(LockOpenIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 21\n    }\n  })), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 19\n    }\n  }, __jsx(TextField, {\n    className: classes.margin,\n    inputProps: {\n      'data-testid': 'passwordfield'\n    },\n    label: \"Password\",\n    type: \"password\",\n    value: values.password,\n    error: valid.validpassword,\n    onChange: handlePassword('password'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 21\n    }\n  })), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 19\n    }\n  }, __jsx(TextField, {\n    className: classes.margin,\n    inputProps: {\n      'data-testid': 'confirmpassfield'\n    },\n    label: \"Confirm Password\",\n    type: \"password\",\n    value: values.confirmpassword,\n    error: valid.validconfirmpassword,\n    onChange: handlePassword('confirmpassword'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 21\n    }\n  })))), __jsx(Button, {\n    \"data-testid\": \"submitButton\",\n    variant: \"contained\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 15\n    }\n  }, \"Sign Up\"), __jsx(Typography, {\n    variant: \"caption\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 15\n    }\n  }, \"By signing up, you agree to our Terms and Conditions and\", __jsx(Typography, {\n    color: \"primary\",\n    variant: \"caption\",\n    component: \"a\",\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 17\n    }\n  }, \"Private Policy\"))))), __jsx(Grid, {\n    container: true,\n    alignItems: \"flex-start\",\n    justify: \"flex-end\",\n    direction: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    href: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 11\n    }\n  }, \"Go Back\"))));\n}","map":{"version":3,"sources":["/home/asherphilip/Documents/autographa/renderer/src/components/Signup/Signup.js"],"names":["React","makeStyles","FormControl","TextField","PersonOutlineIcon","LockOpenIcon","MailOutlineIcon","AccountBalanceOutlinedIcon","LanguageOutlinedIcon","Button","Typography","Radio","RadioGroup","FormControlLabel","Autocomplete","Paper","Grid","logger","handleJson","HashPassword","useStyles","theme","root","height","overflow","paper","margin","spacing","display","flexDirection","alignItems","textAlign","Signup","classes","jsonObj","setJsonObj","useState","result","setResult","values","setValues","firstname","lastname","email","work","organization","selectedregion","password","confirmpassword","valid","setValid","validfirstname","validlastname","validemail","validpassword","validconfirmpassword","validorganization","validselectedregion","errormsg","setErrormsg","region","id","place","handleFirstname","prop","event","target","value","handleLastname","handleEmail","handleRadio","handleOrganization","handlePassword","handleValidation","debug","validation","useEffect","then","response","userExist","error","fetchFile","fs","window","require","handleSubmit","hashedPassword","first_name","last_name","salt","Object","keys","forEach","key","justifyContent","option","newInputValue","params"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport PersonOutlineIcon from '@material-ui/icons/PersonOutline';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport AccountBalanceOutlinedIcon from '@material-ui/icons/AccountBalanceOutlined';\nimport LanguageOutlinedIcon from '@material-ui/icons/LanguageOutlined';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport * as logger from '../../logger';\nimport { handleJson } from '../../core/handleJson';\nimport { HashPassword } from '../../core/hashing';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n    overflow: 'hidden',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    textAlign: 'center',\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n}));\nexport default function Signup() {\n  const classes = useStyles();\n  // const bgImage = [\"img1\", \"img2\", \"img3\"];\n  // const [index, setIndex] = React.useState(0);\n  // const bgImg = bgImage[index % bgImage.length];\n  const [jsonObj, setJsonObj] = React.useState();\n  const [result, setResult] = React.useState();\n  const [values, setValues] = React.useState({\n    firstname: '',\n    lastname: '',\n    email: '',\n    work: 'Individual',\n    organization: '',\n    selectedregion: '',\n    password: '',\n    confirmpassword: '',\n  });\n  const [valid, setValid] = React.useState({\n    validfirstname: false,\n    validlastname: false,\n    validemail: false,\n    validpassword: false,\n    validconfirmpassword: false,\n    validorganization: false,\n    validselectedregion: false,\n  });\n  const [errormsg, setErrormsg] = React.useState('');\n  const region = [\n    { id: 1, place: 'Delhi, India' },\n    { id: 2, place: 'Helsinki, Finland' },\n    { id: 3, place: 'New York, United States' },\n    { id: 4, place: 'Morocco, North Africa' },\n  ];\n  const handleFirstname = (prop) => (event) => {\n    setValues({ ...values, [prop]: event.target.value });\n  };\n  const handleLastname = (prop) => (event) => {\n    setValues({ ...values, [prop]: event.target.value });\n  };\n  const handleEmail = (prop) => (event) => {\n    setValues({ ...values, [prop]: event.target.value });\n  };\n  const handleRadio = (prop) => (event) => {\n    setValues({ ...values, [prop]: event.target.value });\n  };\n  const handleOrganization = (prop) => (event) => {\n    setValues({ ...values, [prop]: event.target.value });\n  };\n\n  const handlePassword = (prop) => (event) => {\n    setValues({ ...values, [prop]: event.target.value });\n  };\n\n  const handleValidation = () => {\n    logger.debug('Singup.js', 'Into handleValidation');\n    let validation;\n    if (!values.firstname) {\n      setValid({ ...valid, validfirstname: true });\n      validation = false;\n    } else if (!values.lastname) {\n      setValid({ ...valid, validlastname: true });\n      validation = false;\n    } else if (!values.email) {\n      setValid({ ...valid, validemail: true });\n      validation = false;\n    } else if (!values.organization && values.work === 'Organization') {\n      setValid({ ...valid, validorganization: true });\n      validation = false;\n    } else if (!values.selectedregion) {\n      setValid({ ...valid, validselectedregion: true });\n      validation = false;\n    } else if (!values.password) {\n      setValid({ ...valid, validpassword: true });\n      validation = false;\n    } else if (!values.confirmpassword) {\n      setValid({ ...valid, validconfirmpassword: true });\n      validation = false;\n    } else {\n      setValid(false);\n      validation = true;\n    }\n    logger.debug('Singup.js', 'End handleValidation');\n    return validation;\n  };\n  React.useEffect(() => {\n    if (result) {\n      result.then((response) => {\n        if (response.userExist === true) {\n          setValid({ validemail: true });\n          setErrormsg('User exists with same Email');\n          logger.error('Singup.js, User exist, use different Mail ID');\n        } else if (response.fetchFile === true) {\n          logger.error('Singup.js, Unable to fetch Data from file');\n        } else {\n          logger.debug('Singup.js, End handleSubmit');\n        }\n      });\n    }\n  }, [result]);\n  React.useEffect(() => {\n    if (jsonObj) {\n      const fs = window.require('fs');\n      setResult(handleJson(jsonObj, fs));\n    }\n  }, [jsonObj]);\n  const handleSubmit = () => {\n    setErrormsg();\n    logger.debug('Singup.js', 'Into handleSubmit');\n    if (handleValidation()) {\n      if (values.password === values.confirmpassword) {\n        const hashedPassword = HashPassword(values.password);\n        setJsonObj({\n          first_name: values.firstname,\n          last_name: values.lastname,\n          email: values.email,\n          work: values.work,\n          organization: values.organization,\n          region: values.selectedregion,\n          password: hashedPassword.password,\n          salt: hashedPassword.salt,\n        });\n      } else {\n        logger.debug('Singup.js, Passwords do not match');\n        setValid({ ...valid, validconfirmpassword: true });\n        setErrormsg('Passwords do not match');\n      }\n    } else {\n      Object.keys(valid).forEach((key) => {\n        if (valid[key] === true) {\n          logger.error(`Singup.js, Validation Failed for ${key}`);\n        }\n      });\n    }\n  };\n\n  // useEffect(() => {\n  //   const timer = setInterval(() => setIndex((i) => i + 1), 5000);\n  //   return () => clearInterval(timer);\n  // }, []);\n\n  return (\n    <div>\n      <Grid container className={classes.root} justify=\"center\">\n        <Grid item xs={5}>\n          <Paper className={classes.paper}>\n            <FormControl>\n              <Typography variant=\"h5\" gutterBottom>\n                Sign Up\n              </Typography>\n              <Typography variant=\"subtitle2\" gutterBottom>\n                Be part of a great community & have fun with us\n              </Typography>\n              <Typography color=\"error\">{errormsg}</Typography>\n              <Typography component=\"span\">\n                <Grid container spacing={1} alignItems=\"flex-end\">\n                  <Grid item>\n                    <PersonOutlineIcon />\n                  </Grid>\n                  <Grid item>\n                    <TextField\n                      className={classes.margin}\n                      inputProps={{\n                        'data-testid': 'firstnamefield',\n                      }}\n                      label=\"First Name\"\n                      onChange={handleFirstname('firstname')}\n                      error={valid.validfirstname}\n                    />\n                  </Grid>\n                  <Grid item>\n                    <TextField\n                      className={classes.margin}\n                      inputProps={{\n                        'data-testid': 'lastnamefield',\n                      }}\n                      label=\"Last Name\"\n                      onChange={handleLastname('lastname')}\n                      error={valid.validlastname}\n                    />\n                  </Grid>\n                </Grid>\n              </Typography>\n              <Grid container spacing={1} alignItems=\"flex-end\">\n                <Grid item>\n                  <MailOutlineIcon />\n                </Grid>\n                <Grid item>\n                  <TextField\n                    className={classes.margin}\n                    inputProps={{\n                      'data-testid': 'emailfield',\n                    }}\n                    label=\"Enter Your Email\"\n                    onChange={handleEmail('email')}\n                    error={valid.validemail}\n                  />\n                </Grid>\n              </Grid>\n              <RadioGroup\n                row\n                data-testid=\"radioButton\"\n                style={{ justifyContent: 'center' }}\n                value={values.work}\n                onChange={handleRadio('work')}\n              >\n                <FormControlLabel\n                  value=\"Individual\"\n                  control={<Radio color=\"primary\" />}\n                  label=\"Individual\"\n                />\n                <FormControlLabel\n                  value=\"Organization\"\n                  control={<Radio color=\"primary\" />}\n                  label=\"Organization\"\n                />\n              </RadioGroup>\n              <Grid container spacing={1} alignItems=\"flex-end\">\n                <Grid item>\n                  <AccountBalanceOutlinedIcon />\n                </Grid>\n                <Grid item>\n                  <TextField\n                    className={classes.margin}\n                    inputProps={{\n                      'data-testid': 'orgfield',\n                    }}\n                    label=\"Name of the Organization\"\n                    error={valid.validorganization}\n                    onChange={handleOrganization('organization')}\n                    disabled={values.work === 'Individual'}\n                  />\n                </Grid>\n              </Grid>\n              <Typography component=\"span\">\n                <Grid container spacing={1} alignItems=\"flex-end\">\n                  <Grid item>\n                    <LanguageOutlinedIcon />\n                  </Grid>\n                  <Grid item>\n                    <Autocomplete\n                      id=\"region\"\n                      options={region}\n                      getOptionLabel={(option) => option.place}\n                      getOptionSelected={(option, value) => option.place === value.place}\n                      onInputChange={(event, newInputValue) => {\n                        setValues({ ...values, selectedregion: newInputValue });\n                      }}\n                      renderInput={(params) => (\n                        <TextField\n                          className={classes.margin}\n                          {...params}\n                          error={valid.validselectedregion}\n                          label=\"Select Region\"\n                        />\n                      )}\n                    />\n                  </Grid>\n                </Grid>\n              </Typography>\n              <Typography component=\"span\">\n                <Grid container spacing={1} alignItems=\"flex-end\">\n                  <Grid item>\n                    <LockOpenIcon />\n                  </Grid>\n                  <Grid item>\n                    <TextField\n                      className={classes.margin}\n                      inputProps={{\n                        'data-testid': 'passwordfield',\n                      }}\n                      label=\"Password\"\n                      type=\"password\"\n                      value={values.password}\n                      error={valid.validpassword}\n                      onChange={handlePassword('password')}\n                    />\n                  </Grid>\n                  <Grid item>\n                    <TextField\n                      className={classes.margin}\n                      inputProps={{\n                        'data-testid': 'confirmpassfield',\n                      }}\n                      label=\"Confirm Password\"\n                      type=\"password\"\n                      value={values.confirmpassword}\n                      error={valid.validconfirmpassword}\n                      onChange={handlePassword('confirmpassword')}\n                    />\n                  </Grid>\n                </Grid>\n              </Typography>\n              <Button\n                data-testid=\"submitButton\"\n                variant=\"contained\"\n                onClick={handleSubmit}\n              >\n                Sign Up\n              </Button>\n              <Typography variant=\"caption\" gutterBottom>\n                By signing up, you agree to our Terms and Conditions and\n                <Typography\n                  color=\"primary\"\n                  variant=\"caption\"\n                  component=\"a\"\n                  target=\"_blank\"\n                >\n                  Private Policy\n                </Typography>\n              </Typography>\n            </FormControl>\n          </Paper>\n        </Grid>\n        <Grid\n          container\n          alignItems=\"flex-start\"\n          justify=\"flex-end\"\n          direction=\"row\"\n        >\n          <a href=\"/login\">Go Back</a>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}